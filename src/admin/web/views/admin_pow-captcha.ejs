<%- include("partials/shared_header", { title: "Proof of Work Verification Settings - OAI Reverse Proxy Admin" }) %>
<h1>PoW Verification Settings</h1>
<p>
  This page allows you to configure the proof of work verification captcha settings or manage user tokens issued via the
  captcha.
</p>
<div>
  <h3>Difficulty Level</h3>
  <form action="/admin/pow" method="post">
    <label for="difficulty">Difficulty Level:</label>
    <select name="difficulty" id="difficulty">
      <option value="low">Low</option>
      <option value="medium">Medium</option>
      <option value="high">High</option>
      <option value="extreme">Extreme</option>
    </select>
    <button type="submit">Update</button>
  </form>
  <form id="maintenanceForm" action="/admin/manage/maintenance" method="post">
    <input id="_csrf" type="hidden" name="_csrf" value="<%= csrfToken %>" />
    <input id="hiddenAction" type="hidden" name="action" value="" />
  </form>
  <h3>Manage User Tokens</h3>
  <p><button onclick='doAction("kill-temp-tokens")'>ðŸ’£ Delete All Temporary Tokens</button></p>
</div>

<script>
  function doAction(action) {
    document.getElementById("hiddenAction").value = action;
    document.getElementById("maintenanceForm").submit();
  }
</script>
<%- include("partials/admin-footer") %>
